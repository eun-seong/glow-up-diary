---
date: 2024-03-04
title: ë‚¨ì˜ìœ„í‚¤ ì˜ì¡´ì„± ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ë³´ê¸°
---

## ì˜ì¡´ì„± ê·¸ë˜í”„ ê·¸ë¦¬ê¸°

ì¡°ì˜í˜¸ë‹˜ì˜ ìš°ì•„í•œ ê°ì²´ì§€í–¥ ì„¸ë¯¸ë‚˜ë¥¼ ë“£ê³ , ë‚¨ì˜ìœ„í‚¤ì˜ ê·¸ë˜í”„ë¥¼ ì˜ì¡´ì„± ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ë³´ì•˜ë‹¤.

ê²°ê³¼ëŠ” ëŒ€ì¶©ê²© ğŸ¤¯

ëŒ€ì¶© ì˜ˆìƒì€ í–ˆì§€ë§Œ, ì—„ì²­ë‚˜ê²Œ ë§ì€ ì˜ì¡´ì„±ì´ ì—®ì—¬ ìˆê³  ë¶„ë¦¬ê°€ ì•ˆë˜ì–´ ìˆì–´ì„œ ë³µì¡í–ˆë‹¤.
ì‹¬ì§€ì–´ User ë„ë©”ì¸ì€ ê·¸ë¦¬ì§€ë„ ì•Šì•˜ëŠ”ë° ë§ì´ë‹¤...

ìµœëŒ€í•œ ë³´ê¸° ì¢‹ê³  ì˜ˆìœ ê·¸ë˜í”„ë¥¼ ê·¸ë¦¬ë ¤ë‹¤ê°€ Dashboard ê·¸ë¦´ ë•Œë¶€í„° í¬ê¸°í–ˆë‹¤.
![[./images/Pasted image 20240304230450.png]]

íŒŒë‘ : Repository
ë¹¨ê°• : Service
ë…¸ë‘ : Entity
ë³´ë¼ : Model, Interface, etc...

### ë¬¸ì œì  íŒŒì•…

ì°¸ì¡° ê·¸ë˜í”„ë¥¼ ê·¸ë ¸ì„ ë•Œ ëª…í™•í•˜ê²Œ ë³´ì´ëŠ” ë¶€ë¶„ì´ ëª‡ ê°€ì§€ ìˆì—ˆë‹¤.(ë¹¨ê°„ ë°•ìŠ¤ë¡œ í‘œì‹œ)

1. SurveyAnswer ê°ì²´ëŠ” ì œê±°í•˜ê³ , Surveyë¡œ í†µí•©í•´ì•¼ í•œë‹¤.
2. Statisticê³¼ StatisticsëŠ” Dashboard ë„ë©”ì¸ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ”ë°, Statistic ë„ë©”ì¸ì— ì†í•´ìˆë‹¤.
	- Statisticì€ ë‚¨ì˜ìœ„í‚¤ì˜ ì „ì²´ í†µê³„ì´ê³  DashboardëŠ” ì‚¬ìš©ìì˜ í†µê³„ ì¸ë°, ì´ì „ì— PopulationStatistic ì¶”ê°€ë˜ë©´ì„œ ìš©ì–´ê°€ ë³€ê²½ë˜ì§€ ì•Šì•˜ë‹¤.
3. Questionì€ ì–´ë–¤ ë„ë©”ì¸ì´ë“  ì§ì ‘ í˜¹ì€ ê°„ì ‘ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ”ë°, ì—¬ê¸°ì €ê¸°ì„œ ì‚¬ìš©í•˜ì§€ ì•Šê²Œë” ë³€ê²½í•  ìˆ˜ ìˆì„ê¹Œ?


ëˆˆì´ ë³´ì´ëŠ” ê²ƒì´ ì´ ì •ë„ ì´ê³ , í…ŒìŠ¤íŠ¸ì½”ë“œ ì‘ì„±ê³¼ ë¦¬íŒ©í† ë§ í•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œì ì„ ë” êµ¬ì²´í™”í•˜ì˜€ë‹¤.



## ë¦¬íŒ©í† ë§ ì‚¬í•­

### SurveyAnswer ì œê±°

SurveyAnswer/Answer ì™€ Survey/Answerì˜ ì—­í• ì´ ë™ì¼í•˜ì—¬ SurveyAnswerë¥¼ ì œê±°í–ˆë‹¤.

ê¸°ì¡´ì— Surveyì™€ SurveyAnswerë¥¼ ë‚˜ëˆ„ì—ˆë˜ ì´ìœ ëŠ” Entityì— ë¹„ì¦ˆë‹ˆìŠ¤ë¡œì§ì„ ë„£ê¸°ë³´ë‹¤ Modelë¥¼ ì‚¬ìš©í•´ì„œ ì•¡ì…˜ì„ ì·¨í•˜ëŠ” ê²Œ ë” ë§ë‹¤ê³  ìƒê°í•œ ê²ƒê³¼ ìš”ì²­ìœ¼ë¡œ ë‹´ê²¨ì ¸ì˜¨ Answerì— ëŒ€í•´ì„œ ê²€ì¦í•  ê²ƒì´ ë§ë‹¤ëŠ” ì  ë•Œë¬¸ì´ì—ˆë‹¤.

ê·¸ë¦¬ê³  ì œê±°í•˜ê²Œ ëœ ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
1. Entity ì•ˆì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰
DDDë¥¼ ì•Œê²Œ ë˜ë©´ì„œ Entity ì•ˆì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ì ì ˆí•œ ê²½ìš°ê°€ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤.
2. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ Entityì™€ ë°€ì ‘í•˜ê²Œ ì—°ê´€
Modelê³¼ì˜ ì°¨ì´ë¡œëŠ” ì–´ë–¤ ë¡œì§ì´ Entityì™€ ë°€ì ‘í•œ ê´€ê³„ì— ìˆëƒëŠ” ê²ƒì¸ë°, Surveyì˜ ê²½ìš°ëŠ” ë°€ì ‘í•˜ë‹¤ëª»í•´ ê·¸ ìì²´ì´ë‹¤. 

ê·¸ë˜ì„œ Model ì´ì—ˆë˜ SurveyAnswerë¥¼ ì œê±°í•˜ê³ , Entityì¸ Surveyë¡œ ì½”ë“œë¥¼ ì˜®ê²¼ë‹¤.
ì´ì— ë”°ë¼ì„œ SurveyAnswer.Answerë„ ì œê±°í•˜ê²Œ ë˜ê³ , Survey.Answerë¡œ í•©ì³¤ë‹¤.

ê¸°ì¡´ì— ì´ë¬ë˜ ê²ƒì´
![[Pasted image 20240305165101.png]]

ë¹¨ê°„ ë°•ìŠ¤ê°€ ì‚¬ë¼ì ¸ ì´ë ‡ê²Œ ë˜ì—ˆë‹¤.
![[Pasted image 20240305165126.png]]


### Statisticsì™€ Statisticì„ Dashboard ë„ë©”ì¸ìœ¼ë¡œ ì´ë™
ì´ë™ë§Œ í•œë‹¤ê³  ëª¨ë‘ í•´ê²°ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.

statisticsì—ì„œëŠ”
1. ìœ ì €ì˜ ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸
2. ì „ì²´ í†µê³„ëŸ‰ ì—…ë°ì´íŠ¸
2ê°€ì§€ ì¼ì„ í•˜ê³  ìˆë‹¤.

dashboardì—ì„œëŠ” DBì— ìˆëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ DTOë¡œ ë³€í™˜í•˜ëŠ” ë¡œì§ì„ ê°€ì§€ê³  ìˆë‹¤.

í´ë˜ìŠ¤ë¥¼ ì´ë™í•œ í›„ì—, ëŒ€ì‹œë³´ë“œì— ëŒ€í•œ ì‘ì§‘ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ statisticì˜ 1ë²ˆì„ dashboardì—ì„œ ì²˜ë¦¬í•˜ë„ë¡ ìˆ˜ì •í•´ì•¼ í•œë‹¤.

ìœ ì €ê°€ ì„¤ë¬¸ì„ ìƒì„±í•˜ë©´, í•´ë‹¹ ì„¤ë¬¸ì„ ì €ì¥í•œ í›„ì— ìœ ì € í†µê³„ë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤.
![[Pasted image 20240305181013.png]]

ì´ `statisticsService`ì—ì„œ í†µê³„ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë©”ì†Œë“œì— ìœ ì €ì˜ í†µê³„ëŸ‰ê³¼ ì „ì²´ í†µê³„ëŸ‰ ì—…ë°ì´íŠ¸í•˜ëŠ” ë¡œì§ì´ ì„ì—¬ ìˆì–´ ë³µì¡í•´ì§„ ê²ƒ ê°™ë‹¤. (ì´ê²ƒë“¤ì€ ë‚˜ì¤‘ì— event ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½í•  ì˜ˆì •ì´ì§€ë§Œ ì§€ê¸ˆì€ ì˜ì¡´ì„± ì •ë¦¬ë¥¼ ë¨¼ì €í•  ê²ƒì´ë‹¤.)

ê·¸ë˜ì„œ ì¼ë‹¨ ì´ ë‘˜ì„ ë¶„ë¦¬í•˜ë„ë¡ í•œë‹¤.
SurveyServiceì— dashboardService ì˜ì¡´ì„±ì´ ìƒê²¼ì§€ë§Œ, ë¡œì§ì€ ë¶„ë¦¬ë˜ì—ˆë‹¤.
![[Pasted image 20240305182748.png]]



ë¨¼ì € ê°œë°œ ìš”êµ¬ ì‚¬í•­ì„ ë‹¤ì‹œ ë¦¬ìŠ¤íŠ¸ì—…í–ˆë‹¤. 
1. ì§ˆë¬¸ë³„ë¡œ ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸ê°€ ì¡´ì¬í•œë‹¤.
2. ëŒ€ì‹œë³´ë“œì— ë‚˜íƒ€ë‚´ì§€ëŠ” ë°ì´í„°ëŠ” ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤ ê°™ì€ ê²ƒë„ ìˆì§€ë§Œ ìƒì´í•œ ê²ƒë„ ìˆë‹¤.

ê·¸ë¦¬ê³  í´ë˜ìŠ¤ì˜ ìš©ë„ë¥¼ ë‹¤ì‹œ ì •ë¦¬í•´ë³´ì•˜ë‹¤.

- `Entity` Dashboard - ìœ ì € í†µê³„ëŸ‰ì„ ì €ì¥í•˜ëŠ” Entity
	- Statistics : ëŒ€ì‹œë³´ë“œì— ë“¤ì–´ê°ˆ ë°ì´í„°ë¥¼ ë‹´ê³  ìˆëŠ” í´ë˜ìŠ¤, questionIdë¡œ êµ¬ë¶„ëœ Statisticì„ Mapìœ¼ë¡œ ê°€ì§€ê³  ìˆë‹¤.
	- Statistic : *abstract class*, ë¬¸í•­ë§ˆë‹¤ í•˜ë‚˜ì”© ê°€ì§€ê³  ìˆë‹¤. ë¹„ìœ¨ ê³„ì‚°ê³¼ í‰ê·  ê³„ì‚°ìœ¼ë¡œ ëª¨ë‘ ê¹”ë”í•˜ê²Œ ë‚˜ëˆ„ì–´ì§ˆ ê±°ë¼ê³  íŒë‹¨í•´ì„œ, êµ¬í˜„ì²´ë¥¼ 2ê°œ ë§Œë“¤ì—ˆë‹¤.
		- (ìƒì†) AverageStatistic : ìš”êµ¬ ì‚¬í•­ 2ë²ˆì— ì˜í•´ì„œ ë§Œë“¤ì–´ì§„ êµ¬í˜„ í´ë˜ìŠ¤
		- (ìƒì†) RatioStatistic : ìš”êµ¬ ì‚¬í•­ 2ë²ˆì— ì˜í•´ì„œ ë§Œë“¤ì–´ì§„ êµ¬í˜„ í´ë˜ìŠ¤
- DashboardComponent : *abstract class*, ëŒ€ì‹œë³´ë“œ ìœ í˜•ë§ˆë‹¤ í•˜ë‚˜ì”© ìƒì„±ëœë‹¤. ëŒ€ì‹œë³´ë“œ ì¡°íšŒ APIì˜ ì‘ë‹µì— ì‚¬ìš©ë˜ëŠ” í´ë˜ìŠ¤ì´ë‹¤. 
	- (ìƒì†) BestWorthDashboardComponent
	- (ìƒì†) CharacterDashboardComponent
	- (ìƒì†) HappyDashboardComponent
	- (ìƒì†) MoneyDashboardComponent
	- (ìƒì†) SadDashboardComponent


ì´í›„ ë‹¤ì‹œ ê·¸ë˜í”„ ì •ë¦¬ë¥¼ í•´ë³´ë‹ˆ ì•„ë˜ì²˜ëŸ¼ ì •ë¦¬ê°€ ë˜ì—ˆë‹¤.
![[Pasted image 20240305191811.png]]

ê¹”ë”í•˜ê²Œ 2ê°€ì§€ ì¢…ë¥˜ë¡œ ë‚˜ë‰˜ì–´ì„œ DashboardComponentì™€ Statisticì´ 1:1 ë§¤ì¹­ì´ ë ê±°ë¼ê³  ì˜ˆìƒí–ˆì—ˆì§€ë§Œ, CharacterDashboard ë•Œë¬¸ì— ê·¸ë ‡ê²Œ ë˜ì§€ ì•Šì•˜ë‹¤.
CharacterDashboard ì•ˆì— ì—¬ëŸ¬ ê°œì˜ RatioStatisticë“¤ì´ ë“¤ì–´ê°€ ìˆëŠ” ì…ˆì´ë‹¤. ì´ ë¶€ë¶„ì´ ë³€ê²½ë˜ë©´ì„œ DashboardComponentê°€ ê¸°ì¡´ì— ê³µí†µìœ¼ë¡œ questionIdë¥¼ ê°€ì§€ê³  ìˆì—ˆì§€ë§Œ, CharacterDashboardì˜ ë°ì´í„° êµ¬ì„±ì´ ë‹¬ë¼ ì œì™¸ë˜ê³  ì§€ê¸ˆì€ calculate ì¶”ìƒ ë©”ì†Œë“œ ì™¸ì—ëŠ” ì˜ë¯¸ì—†ëŠ” ê»ë°ê¸° í´ë˜ìŠ¤ê°€ ë˜ì–´ ë²„ë ¸ë‹¤.


ì¼ë‹¨ DashboardComponentë¥¼ ìƒì„±í•  ë•Œ questionNameìœ¼ë¡œ ë¬¸í•­ì„ ê²€ìƒ‰í•  í•„ìš” ì—†ì–´ì„œ ì´ê²ƒì„ ì œì™¸í–ˆë‹¤. ì´ê²ƒìœ¼ë¡œ ëŒ€ì‰¬ë³´ë“œ ì¡°íšŒ 1ë²ˆ ë‹¹ 14ë²ˆì”©(ë¬¸í•­ ê°œìˆ˜) ë°œìƒí•˜ë˜ question ì¡°íšŒ ì¿¼ë¦¬ ì œê±°ë˜ì—ˆë‹¤.
ê·¸ë¦¬ê³  ì´ê²ƒìœ¼ë¡œ ì¸í•´ DashboardComponent êµ¬í˜„ì²´ë“¤ì´ ì˜ì¡´í•˜ë˜ Statistis ì˜ì¡´ì„±ì´ ì œê±°ë˜ì—ˆë‹¤.


### DashboardComponentì˜ ìœ í˜• ì¬ì •ì˜

í”„ë¡ íŠ¸ì—ì„œ ëŒ€ì‹œë³´ë“œì˜ ìœ í˜•ì„ ì•Œì•„ì•¼ë§Œ ëŒ€ì‹œë³´ë“œë¥¼ ê·¸ë¦´ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— DashboardTypeì„ ì—†ì• ì§€ëŠ” ëª»í•œë‹¤.
ì´ë¥¼ 'QuestionNameìœ¼ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ?' ì ê¹ ìƒê°í–ˆì§€ë§Œ, Character ì²˜ëŸ¼ ì—¬ëŸ¬ ì§ˆë¬¸ì´ ëª¨ì—¬ì„œ í•˜ë‚˜ì˜ ëŒ€ì‹œë³´ë“œë¥¼ ì´ë£¨ëŠ” íƒ€ì…ì´ ìˆì–´ ì ì ˆí•˜ì§€ ì•Šì•˜ë‹¤.

ê·¸ë˜ì„œ ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸ì˜ ìœ í˜•ì„ ë‹¤ì‹œ ë‚˜ëˆ„ê¸°ë¡œ í–ˆë‹¤.

ì§€ê¸ˆì€ ëŒ€ì‹œë³´ë“œíƒ€ì…"ë§ˆë‹¤" í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ì”© ê°€ì§€ê³  ìˆë‹¤. ê°„ë‹¨íˆ ë³´ìë©´ ì´ëŸ° í˜•íƒœì˜€ëŠ”ë°, 
![[Pasted image 20240306182816.png]]


ì—¬ê¸°ì„œ BestWorth, Happy, Sad ëŠ” í´ë˜ìŠ¤ ì´ë¦„ìœ¼ë¡œë§Œ ë‚˜ëˆ„ì–´ì ¸ ìˆê³  êµ¬ì„± ë‚´ìš© ë° ë¡œì§ì€ ì™„ì „íˆ ë™ì¼í•˜ë‹¤.
ì¦‰, ì´ë¦„ë§Œ ë‹¤ë¥¸ ê°™ì€ í´ë˜ìŠ¤ì´ë‹¤.
(ê°œë°œí•  ë‹¹ì‹œì— ë„ˆë¬´ ë³µì¡í•œë° ë°ë“œë¼ì¸ ë•Œë¬¸ì— ì–´ì©” ìˆ˜ ì—†ì´ í•˜ë‚˜ì”© ìƒì„±í•˜ì˜€ì—ˆë‹¤.)


ê·¸ë˜ì„œ ì´ë¥¼ 3ê°€ì§€ë¡œ ë‚˜ëˆ„ëŠ”ê²ƒìœ¼ë¡œ ê³„íší–ˆë‹¤.
![[Pasted image 20240306183343.png]]

- BinaryDashboard 
	- Character
- RatioDashboard
	- BestWorth
	- Happy
	- Sad
- AverageDashboard
	- Money

### Statisticê³¼ Dashboard ìœ í˜• ì¬ì •ì˜

ë¦¬íŒ©í† ë§ì— ì•ì„œ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í–ˆë‹¤.
í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•˜ë‹¤ë³´ë‹ˆ ìœ„ 3ê°€ì§€ë¡œ ë‚˜ëˆ„ì–´ì§€ëŠ” ê²ƒì€ ë” ëª…í™•í•´ì¡Œìœ¼ë‚˜, ìš©ì–´ê°€ ë¶ˆë¶„ëª…í•˜ê³  enum Typeë“¤ì˜ ìš©ë„ë¥¼ ë‚´ê°€ ì˜ ì´í•´í•˜ì§€ ëª»í•´ ë‹¤ì‹œ ì •ë¦¬í•˜ì˜€ë‹¤.

- StatisticsType -> StatisticsCalculationType
	1. "í†µê³„ ìœ í˜•"ì„ ëœ»í•˜ëŠ” íƒ€ì…ì´ì—ˆê³ , ê³„ì† ì–¸ê¸‰í•˜ê³  ìˆëŠ” Ratioì™€ Average ì´ë ‡ê²Œ 2ê°œì˜ íƒ€ì…ì´ ìˆë‹¤.
	2. ì´ íƒ€ì…ì€ `Statistic` ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ”ë°ì— "êµ¬ë¶„"í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ë˜ì—ˆë‹¤. 
	3. "êµ¬ë¶„"ì€ í†µê³„ë¥¼ ì‚°ì¶œí•˜ëŠ” "ë°©ë²•"ì— ê´€í•œ ê¸°ì¤€ì´ë‹¤.
	4. ê·¸ë˜ì„œ Statistics**Calculation**Typeìœ¼ë¡œ ë³€ê²½í•˜ì˜€ë‹¤.
- DashboardType -> ìœ ì§€
	í”„ë¡ íŠ¸ì—ì„œ ë Œë”ë§ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•œ íƒ€ì…ì´ë‹¤. ê¼­ í•„ìš”í•˜ê³ , ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.
- DashboardStatisticType -> ìƒˆë¡œ ìƒì„±
	Statisticì„ Dashboardë¡œ ë³€í™˜í•  ë•Œ ì–´ë–¤ ìœ í˜•ì¸ì§€ êµ¬ë¶„í•˜ëŠ íƒ€ì…ì´ë‹¤. 
	`RATIO`, `AVERAGE`, `BINRAY` ê°€ ì¡´ì¬í•œë‹¤. `StatisticsCalculationType`ê³¼ ê±°ì˜ ìœ ì‚¬í•˜ì—¬ í•©ì¹ ê¹Œ ê³ ë¯¼í•˜ì˜€ì§€ë§Œ, ìš©ë„ê°€ ë‹¬ë¼ ë”°ë¡œ ë‘ì—ˆë‹¤.
- AnalysisType -> ìƒˆë¡œ ìƒì„±
	ëŒ€ì‹œë³´ë“œëŠ” ì‚¬ìš©ìê°€ ë°›ì€ ë‹µë³€ë“¤ë¡œë§Œ êµ¬ì„±ëœ í†µê³„ì™€ ì‚¬ìš©ì ì „ì²´ì—ì„œ íŒë‹¨í•˜ëŠ” í†µê³„ë¡œ ë‚˜ëˆ„ì–´ì§„ë‹¤. ì´ ë‘˜ì„ êµ¬ë¶„í•˜ëŠ” íƒ€ì…ì´ë‹¤. ì´ê²ƒì´ ë¦¬íŒ©í† ë§ì„ í•˜ëŠ”ë°ì— í•µì‹¬ì´ ë˜ëŠ” ê²ƒì´ì—ˆë‹¤. ì´ë¥¼ ë‚˜ëˆ„ì§€ ì•Šê³  í•œ ë²ˆì— ì²˜ë¦¬í•˜ë ¤ê³  í•´ì„œ ê³„ì†í•´ì„œ ë³µì¡í•´ì§„ ì…ˆì´ë‹¤.


### DashboardFactoryë¡œ Dashboard í•œ ë²ˆì— ê´€ë¦¬í•˜ê¸°

ìœ„ì—ì„œ ì–¸ê¸‰í•œ Binary, Ratio, Average ì´ë ‡ê²Œ 3ê°€ì§€ ìœ í˜•ì— ë”°ë¼ì„œ DashboardComponent êµ¬í˜„ì²´ë¥¼ ì¬ì •ì˜í•˜ê³ , `DashboardFactory`ë¥¼ í†µí•´ ìƒì„±í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ë‹¤.
ê·¸ë¦¬ê³  DashboardComponent ìƒì„±ì„ Serviceê°€ ì•„ë‹Œ Dashboard Entityê°€ í•˜ë„ë¡ í–ˆë‹¤.

ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ `DashboardService`ê°€ `DashboardComponent` êµ¬í˜„ì²´ì— ì§ì ‘ ì˜ì¡´í•˜ë˜, í•˜ë“œì½”ë”©ë˜ì–´ ìˆë˜ ì½”ë“œë¥¼ ì‚­ì œí•  ìˆ˜ ìˆì—ˆë‹¤.

Before
```java
List<DashboardComponent> dashboardComponents = List.of(
		new BestWorthDashboardComponent(statistics, getQuestionIdByQuestionNAme(questions, QuestionName.CORE_VALUE)),
		new HappyDashboardComponent(statistics, getQuestionIdByQuestionNAme(questions, QuestionName.HAPPY_BEHAVIOR)),
		new SadDashboardComponent(statistics, getQuestionIdByQuestionNAme(questions, QuestionName.SAD_ANGRY_BEHAVIOR)),
		new CharacterDashboardComponent(statistics),
		getMoneyDashboardComponent(statistics, period, relation, getQuestionIdByQuestionNAme(questions, QuestionName.BORROWING_LIMIT))
);
```

After
```java
List<DashboardComponent> userDashboards = dashboard.getUserDashboards();
```

```java
public List<DashboardComponent> getUserDashboards() {
	var dashboardTypeListMap = statistics.mapStatisticsByDashboardType();

	return dashboardTypeListMap.entrySet().stream()
			.filter(entry -> entry.getKey().getAnalysisType().isUser())
			.map(entry -> DashboardFactory.create(entry.getKey(), entry.getValue()))
			.toList();
}
```


### í•˜ë“œì½”ë”© ì•„ë‹Œ ì²™ í•˜ë˜ êµ¬í˜„ì²´ ë³€ê²½

ì „ì²´ í†µê³„ëŸ‰ì„ ê´€ë¦¬í•˜ëŠ” ëŒ€ì‹œë³´ë“œê°€ ë”± í•˜ë‚˜ ìˆë‹¤. "ì§€ì¸ì´ ë‚˜ì—ê²Œ ë¹Œë ¤ì¤„ ìˆ˜ ìˆëŠ” ëˆ" ì¸ë°, ì „ì²´ ì‚¬ìš©ìì˜ í‰ê· ì„ ê°€ì§€ê³  ìˆì–´ì•¼ í–ˆë‹¤.

ê¸°ì¡´ì— populationê³¼ userë¥¼ ë‚˜ëˆ„ì§€ ì•Šì•„ í•˜ë“œì½”ë”©í–ˆì—ˆë˜ `BorrowingLimitEntireStatistic`ì„ í‰ê· ì„ ê³„ì‚°í•˜ëŠ” `AverageEntireStatistic` ë¡œ ë³€ê²½í–ˆë‹¤.


ë¹Œë ¤ì•¼ í•˜ëŠ” ëˆ Statisticì„ ìƒì„±í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°€ë“í–ˆë˜ ì½”ë“œëŠ” í‰ê· ì„ ê³„ì‚°í•˜ëŠ” ì½”ë“œë¡œ ëª¨ë‘ ë³€ê²½ë˜ì—ˆë‹¤.
ì´ë¡œì¨ StatisticsServiceì˜ êµ¬í˜„ì²´ ì˜ì¡´ì„±ë„ ëŠì–´ì¡Œë‹¤.


## ë¦¬íŒ©í† ë§ìœ¼ë¡œ ì–»ì€ ê²ƒ

ë¦¬íŒ©í† ë§ í›„ì˜ ì˜ì¡´ì„± ê·¸ë˜í”„ëŠ” í™•ì‹¤íˆ ê°„ë‹¨í•´ì¡Œë‹¤.
![[Pasted image 20240307032705.png]]

ì´ë¯¸ ì¡´ì¬í•˜ëŠ” DashboareStatisticsTypeìœ¼ë¡œ ìƒˆë¡œìš´ ëŒ€ì‹œë³´ë“œ íƒ€ì…ì´ í•˜ë‚˜ê°€ ì¶”ê°€ë˜ë©´
- DashboardTypeì— íƒ€ì… ì¶”ê°€
- DashboardComponent êµ¬í˜„ì²´ ì¶”ê°€
- DashboardServiceì— í•´ë‹¹ DashboardTypeìœ¼ë¡œ ì§ì ‘ ì°¾ì•„ ê·¸ì— ë§ëŠ” DashboardComponent ì¶”ê°€
ì²˜ëŸ¼ ì½”ë“œ ë³€ê²½ ì‚¬í•­ì´ ë§ì•˜ëŠ”ë°,

ë³€ê²½ëœ í›„ë¡œëŠ” DashboardTypeì— íƒ€ì… ì¶”ê°€ë§Œ í•´ì£¼ë©´ ëœë‹¤.

PopulationStatisticë„ ë¹„ìŠ·í•˜ë‹¤.
ì´ë¯¸ ì¡´ì¬í•˜ëŠ” StatisticCalculationTypeìœ¼ë¡œ ìƒˆë¡œìš´ ì „ì²´í†µê³„ê°€ ì¶”ê°€ë˜ë©´
- EntireStatstic êµ¬í˜„ì²´ ì¶”ê°€
- StatisticServiceì— í•´ë‹¹ QuestionNameìœ¼ë¡œ ì§ì ‘ ì°¾ì•„ ê·¸ì— ë§ëŠ” PopulationStatistic ì¶”ê°€
ì´ë ‡ê²Œ í•´ì£¼ì–´ì•¼ í–ˆëŠ”ë°,

ë³€ê²½ëœ í›„ë¡œëŠ” ì—­ì‹œ DashboardTypeì— íƒ€ì… ì¶”ê°€ë§Œ í•´ì£¼ë©´ ëœë‹¤.

ë³€ê²½ë˜ëŠ” íŒŒì¼ì€ `DashboardType.java` í•˜ë‚˜ì´ê²Œ ëœ ì ì´ ì´ ë¦¬íŒ©í† ë§ì„ í†µí•´ ì–»ì€ ê°€ì¥ í° ì†Œë“ì´ ì•„ë‹ê¹Œ ì‹¶ë‹¤.




